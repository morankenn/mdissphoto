<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pretty="http://ocpsoft.com/prettyfaces"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"> 
	

<ui:composition template="/faces/app/user-space.xhtml">

	<!--  <ui:define name="title">MDISSPHOTO</ui:define>-->

	<ui:define name="user_body">

		<div class="row-fluid">
			<div class="span12">
				<div class="row-fluid">
					<div class="span1"></div>
					<div class="span2 polaroid2">
						<h:graphicImage value="#{profileBean.profileAvatar}" />
					</div>
					<div class="span8">
						<div class="profile-user-container">
							<h1>#{profileBean.user.name} #{profileBean.user.surname}
									(#{profileBean.user.nick})</h1>
							
							<div class="row-fluid">#{profileBean.user.gender}</div>
							<div class="row-fluid">#{profileBean.user.email}</div>
							<h:form>
								<h:commandButton styleClass="btn btn-success"
									rendered="#{userBean.followsUser(userBean.user) == false
														&amp;&amp; userBean.userId != userBean.userNickname}"
									actionListener="#{userBean.addFollow(userBean.user)}"
									value="Follow" update="growl" />
								<h:commandButton styleClass="btn btn-warning"
									rendered="#{userBean.followsUser(userBean.user) != false
														&amp;&amp; userBean.userId != userBean.userNickname}"
									actionListener="#{userBean.deleteFollow(userBean.user)}"
									value="Unfollow" update="growl" />
							</h:form>
						</div>
	
						<div class="row-fluid">
							<div class="navbar">
								<div class="navbar-inner">
									<div class="submit-container">
										<pretty:link mappingId="user-profile">
											<f:param value="#{profileBean.user.nick}" />
											<button class="btn btn-large"><i class="icon-user"/> Profile</button>
										</pretty:link>
										<pretty:link mappingId="album-list">
											<f:param value="#{profileBean.user.nick}" />
											<button class="btn btn-large btn-info"><i class="icon-picture icon-white"/> Gallery</button>
										</pretty:link>
										<pretty:link mappingId="photowing">
											<f:param value="#{profileBean.user.nick}" />
											<button class="btn btn-large btn-warning">Photowing</button>
										</pretty:link>
										<pretty:link mappingId="photowers">
											<f:param value="#{profileBean.user.nick}" />
											<button class="btn btn-large btn-success">Photowers</button>
										</pretty:link>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="span1"></div>
				</div>
			</div>
		</div>

		<br />

		<div class="row-fluid">
			<div class="span12 profile-info-container">
				<div class="well span4">
					<h2>Personal info</h2>
				    <p:separator />
					<h:panelGrid columns="2" cellpadding="3">
						<h:outputText styleClass="profile-user-info-label" value="Nick:  " rendered="#{profileBean.user.configuration.showNick != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.nick}" rendered="#{profileBean.user.configuration.showNick != false}"/>
						<h:outputText styleClass="profile-user-info-label" value="Name:  " rendered="#{profileBean.user.configuration.showName  != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.name}" rendered="#{profileBean.user.configuration.showName  != false}"/>
						<h:outputText styleClass="profile-user-info-label" value="Surname:  " rendered="#{profileBean.user.configuration.showSurname  != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.surname}" rendered="#{profileBean.user.configuration.showSurname  != false}"/>		
						<h:outputText styleClass="profile-user-info-label" value="Birthdate:  " rendered="#{profileBean.user.configuration.showBirthdate  != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.birthdate}" rendered="#{profileBean.user.configuration.showBirthdate != false}"/>
						<h:outputText styleClass="profile-user-info-label" value="Gender:  " rendered="#{profileBean.user.configuration.showGender  != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.gender}" rendered="#{profileBean.user.configuration.showGender != false}"/>
						<h:outputText styleClass="profile-user-info-label" value="Email:  " rendered="#{profileBean.user.configuration.showEmail  != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.email}" rendered="#{profileBean.user.configuration.showEmail != false}"/>
						<h:outputText styleClass="profile-user-info-label" value="Phone:  " rendered="#{profileBean.user.configuration.showPhone  != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.phone}" rendered="#{profileBean.user.configuration.showPhone != false}"/>
					</h:panelGrid>
				</div>

				<div class="well span4">
					<h2>Address</h2>
					<p:separator />
					<h:panelGrid columns="2" cellpadding="3">
						<h:outputText styleClass="profile-user-info-label" value="Country:  "  rendered="#{profileBean.user.configuration.showCountry != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.address.country.nombre}" rendered="#{profileBean.user.configuration.showCountry != false}"/>
						<h:outputText styleClass="profile-user-info-label" value="State:  "  rendered="#{profileBean.user.configuration.showCountry != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.address.state.nombre}" rendered="#{profileBean.user.configuration.showCountry != false}"/>
						<h:outputText styleClass="profile-user-info-label" value="City:  " rendered="#{profileBean.user.configuration.showCity != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.address.city.nombre}" rendered="#{profileBean.user.configuration.showCity != false}"/>
						<h:outputText styleClass="profile-user-info-label" value="Address:  " rendered="#{profileBean.user.configuration.showAddress != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.address.street}" rendered="#{profileBean.user.configuration.showAddress != false}"/>
						<h:outputText styleClass="profile-user-info-label" value="Zip:  " rendered="#{profileBean.user.configuration.showZip != false}"/>
						<h:outputText styleClass="profile-user-info-text" value="#{profileBean.user.address.zip}" rendered="#{profileBean.user.configuration.showZip != false}"/>
					</h:panelGrid>

				</div>


				<div class="well span4">
					<h2>Statistics</h2>
					<p:separator />
					<h:panelGrid columns="2" cellpadding="3">
						<h:outputText styleClass="profile-user-info-label" value="Followers:  " />
						<h:outputText styleClass="profile-user-info-text" value="#{fn:length(userBean.user.followers)}" />
						<h:outputText styleClass="profile-user-info-label" value="Following:  " />
						<h:outputText styleClass="profile-user-info-text" value="#{fn:length(userBean.user.follows)}" />
						<h:outputText styleClass="profile-user-info-label" value="Total number of albums:  " />
						<h:outputText styleClass="profile-user-info-text" value="#{fn:length(dashboardBean.albums)}" />
					</h:panelGrid>
				</div>
			</div>
		</div>

	</ui:define>

</ui:composition>
</html>
