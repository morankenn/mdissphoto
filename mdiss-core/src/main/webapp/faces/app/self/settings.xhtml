<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/faces/app/self-space.xhtml">

	<ui:define name="title">USER SETTINGS</ui:define>

        <ui:define name="head">
    	<script src="http://maps.google.com/maps/api/js?sensor=false"
		type="text/javascript"></script>
    	</ui:define>
    

		
		<ui:define name="bootstrap-jquery">
		 <!-- Primefaces sets the javascript 1.7.1 automatically ¬¬ -->
		</ui:define>


	<ui:define name="body">

		<div class="tabbable tabs-left">
			<ul class="nav nav-tabs">
				<li class="active"><a href="#tab1" data-toggle="tab">Personal info</a></li>
				<li><a href="#tab2" data-toggle="tab">Privacy settings</a></li>
				<li><a href="#tab3" data-toggle="tab">Geographical settings</a></li>
			</ul>
			<div class="tab-content">
				<div class="tab-pane active" id="tab1">
					<h2>Update your profile info</h2>

					<h:form id="form">
						<p:growl id="growl" sticky="true" showDetail="true" />

						<h:panelGrid columns="2" columnClasses="column" cellpadding="5">

							<h:outputLabel value="Nick: *" />
							<p:inplace>
								<p:inputText id="nick" value="#{userBean.user.nick}"
									required="true" label="Nick">
									<f:validator
										validatorId="org.mdissjava.mdisscore.view.registration.NickValidator" />
									<p:ajax update="growl" />
								</p:inputText>
								<p:message id="nickoutput" for="nick" display="text" />
							</p:inplace>


							<h:outputLabel value="Name: *" />
							<p:inplace>
								<p:inputText id="nombre" value="#{userBean.user.name}"
									required="true" label="Name">
									<p:ajax update="growl" />
								</p:inputText>
								<p:message id="nombreoutput" for="nombre" display="text" />
							</p:inplace>

							<h:outputLabel value="Surname: *" />
							<p:inplace>
								<p:inputText id="apellido" value="#{userBean.user.surname}"
									required="true" label="Surname">
									<p:ajax update="growl" />
								</p:inputText>
								<p:message id="apellidooutput" for="apellido" display="text" />
							</p:inplace>

							<h:outputLabel for="bdate" value="Birthday: *" />
							<p:inplace>
								<p:inputMask id="bdate" value="#{userBean.user.birthdate}"
									mask="99/99/9999" label="Birthday">
									<f:convertDateTime pattern="dd/MM/yyyy" />
									<f:validator
										validatorId="org.mdissjava.mdisscore.view.registration.BirthdateValidator" />
									<p:ajax update="growl" />
								</p:inputMask>
								<h:message for="bdate" display="text" />
							</p:inplace>

							<h:outputLabel value="I am: *" />
							<p:inplace>
								<p:selectOneMenu id="checkSex" value="#{userBean.user.gender}"
									label="I am">
									<f:selectItem itemValue="Male" itemLabel="Male" />
									<f:selectItem itemValue="Female" itemLabel="Female" />
								</p:selectOneMenu>
								<p:message id="Sexooutput" for="checkSex" display="text" />
							</p:inplace>

							<h:outputLabel value="Email: *" />
							<p:inplace>
								<p:inputText id="email" value="#{userBean.user.email}"
									required="true" label="email">
									<f:validator
										validatorId="org.mdissjava.mdisscore.view.registration.EmailValidator" />
									<p:ajax update="growl" />
								</p:inputText>
								<h:message for="email" style="color:red" />
							</p:inplace>

							<h:outputLabel for="pwd1" value="Password: *" />
							<p:inplace>
								<p:password id="pwd1" match="pwd2"
									label="Password 1" feedback="true" required="true" />
								<p:message id="contraseñaoutput" for="pwd1" display="text" />

								<h:outputLabel for="pwd2" value="Re-enter password: *" />
								<p:password id="pwd2" value="#{userBean.user.pass}"
									label="Password 2" required="true" />
								<p:message id="repetircontraseñaoutput" for="pwd2"
									display="text" />
							</p:inplace>
						</h:panelGrid>

					</h:form>		
				
				<hr/>
				 <h2>Tell us more about yourself</h2>
					
					<h:form id="formDetails">						
						<p:growl id="growl" sticky="true" showDetail="true" />

						<h:panelGrid columns="2" columnClasses="column" cellpadding="5">

							<h:outputLabel value="Phone number:" />
							<p:inplace>
								<p:inputText id="phone" value="#{userBean.user.phone}"
									label="Phone"/>
					
							</p:inplace>
							
							<h:outputLabel value="Preferences:" />
							<p:inplace>
								<p:inputText id="preferences" value="#{userBean.user.surname}"
									label="Preferences"/>
						
							</p:inplace>
						
						</h:panelGrid>

					</h:form>				
				
				</div>
				<div class="tab-pane" id="tab2">
				
					 <h2>Configure your privacy settings</h2>
					 <ui:insert name="SecSettingContent" >
						<ui:include src="/faces/app/self/settings/sec-settings.xhtml"/>
					</ui:insert>

				</div>
				<div class="tab-pane" id="tab3">
				
					 <h2>Configure your geographical settings</h2>
					<ui:insert name="GeoSettingContent" >
						<ui:include src="/faces/app/self/settings/geo-settings.xhtml"/>
					</ui:insert>
				</div>
		</div>
	</div>

	</ui:define>

</ui:composition>
</html>
